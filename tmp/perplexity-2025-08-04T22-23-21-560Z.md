To search GitHub repositories using the GraphQL API v4 with filters such as language, stars, creation date, and license, you use the search query endpoint with a tailored query string. These filters are applied using GitHub's search qualifiers within the query parameter; the GraphQL structure then specifies which fields you want returned.

**Example GraphQL Query Structure**

A typical query looks like this:

```graphql
query searchRepos($queryStr: String!, $first: Int!, $after: String) {
  search(
    query: $queryStr
    type: REPOSITORY
    first: $first
    after: $after
  ) {
    repositoryCount
    pageInfo {
      endCursor
      hasNextPage
    }
    nodes {
      ... on Repository {
        name
        owner {
          login
        }
        stargazers {
          totalCount
        }
        primaryLanguage {
          name
        }
        createdAt
        licenseInfo {
          key
          name
          spdxId
        }
        url
        description
      }
    }
  }
}
```
With variables:

```json
{
  "queryStr": "language:TypeScript stars:>5000 created:>2022-01-01 license:mit sort:stars-desc",
  "first": 5,
  "after": null
}
```

**Explanation of the Query String Qualifiers**
- `language:TypeScript`: Only repositories where the main language is TypeScript.
- `stars:>5000`: Only repositories with more than 5000 stars.
- `created:>2022-01-01`: Only repositories created after January 1, 2022.
- `license:mit`: Only repositories with an MIT license.
- `sort:stars-desc`: Sort the results by descending star count.

GitHub's search syntax for these qualifiers is documented in full at [GitHub search syntax](https://docs.github.com/en/search-github/searching-on-github/searching-for-repositories).

**Sample Response Schema**

The API response (simplified to the essential fields) looks like this:

```json
{
  "data": {
    "search": {
      "repositoryCount": 128,
      "pageInfo": {
        "endCursor": "Y3Vyc29yOnYyOpHOfkJZGsdw==",
        "hasNextPage": true
      },
      "nodes": [
        {
          "name": "awesome-typescript",
          "owner": { "login": "user123" },
          "stargazers": { "totalCount": 12345 },
          "primaryLanguage": { "name": "TypeScript" },
          "createdAt": "2023-01-15T09:00:00Z",
          "licenseInfo": { "key": "mit", "name": "MIT License", "spdxId": "MIT" },
          "url": "https://github.com/user123/awesome-typescript",
          "description": "A curated list of awesome TypeScript resources."
        }
        // ... up to 'first' count
      ]
    }
  }
}
```

**Key Points and Technical Details**
- Filtering is done **within the query string** using GitHub search qualifiers, not as separate GraphQL query arguments[1][2].
- The GraphQL response will return nodes of type `Repository` when using `type: REPOSITORY` in the search query, enabling you to select only the fields you need[1].
- Use pagination (`first`, `after`, and `pageInfo`) for navigating large result sets.
- For best accuracy and performance, construct search qualifiers as you would for the GitHub.com search bar[2].

**Important Notes**
- Sorting with search is supported using `sort:stars-desc` or similar qualifiers.
- The `license` qualifier uses [SPDX identifiers](https://spdx.org/licenses/) (e.g., `mit`, `apache-2.0`).
- The `created` filter uses ISO 8601 date format (`YYYY-MM-DD`)[2].
- Pagination is cursor-based; use `pageInfo.endCursor` and `hasNextPage`.

**Example in Use**

A query fetching the top 10 public MIT-licensed Python repositories created after 2023-01-01 with over 10,000 stars would have:

Variables:
```json
{
  "queryStr": "language:Python stars:>10000 created:>2023-01-01 license:mit is:public sort:stars-desc",
  "first": 10,
  "after": null
}
```

Query structure as above.

**References:**  
- GitHub API v4 documentation overview on queries and search[3]  
- Example implementations and explanations of the search logic and syntax[1][2]

## Sources:
1. https://github.com/isaacs/github/issues/1619
2. https://github.com/orgs/community/discussions/24611
3. https://docs.github.com/en/graphql/reference/queries
4. https://github.com/mghoneimy/php-graphql-client
5. https://docs.github.com/en/graphql
